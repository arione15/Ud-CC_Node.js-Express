<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies search</title>
    <link rel="stylesheet" href="../public/style.css" />
</head>

<body>
    <%- include('./partials/header') %>
        <div>
            <h1>Votre recherche sur <em>The Movie Database</em></h1>
            <input type="text" name="term" id="term" placeholder=" titre du film recherchÃ© : ">
            <button id="btnSearch">Chercher</button>
        </div>
        <div id="results"></div>


        <footer>
            <%- include('./partials/footer.ejs') %>
        </footer>

        <script src="https://unpkg.com/axios/dist/axios.min.js "></script>
        <script>
            const API_KEY = "80ecd61797415c10110ab14c635aae91";
            const myReq = document.querySelector('#term');
            const bouton = document.querySelector('#btnSearch');
            let results = document.querySelector('#results');
            bouton.addEventListener('click', search);

            function search() {
                const query = `https://api.themoviedb.org/3/movie/550?api_key=${API_KEY}&query=${myReq.value}&language=fr-FR`;
                axios
                    .get(query)
                    .then(resp => {
                        console.log(resp);
                        afficherResultats(resp.data.results)
                    });
            }

            function afficherResultats(reslts)
        </script>

</body>

</html>